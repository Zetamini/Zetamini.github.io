<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://zeta.im</id>
    <title>Zeta</title>
    <updated>2020-05-02T02:29:30.803Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://zeta.im"/>
    <link rel="self" href="https://zeta.im/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://zeta.im/images/avatar.png</logo>
    <icon>https://zeta.im/favicon.ico</icon>
    <rights>All rights reserved 2020, Zeta</rights>
    <entry>
        <title type="html"><![CDATA[SFTP å®‰è£…ä¸é…ç½®]]></title>
        <id>https://zeta.im/install-and-configure-for-sftp/</id>
        <link href="https://zeta.im/install-and-configure-for-sftp/">
        </link>
        <updated>2020-05-02T02:13:51.000Z</updated>
        <summary type="html"><![CDATA[<p>sftp æ˜¯ Secure File Transfer Protocol çš„ç¼©å†™ï¼Œå®‰å…¨æ–‡ä»¶ä¼ é€åè®®ã€‚å¯ä»¥ä¸ºä¼ è¾“æ–‡ä»¶æä¾›ä¸€ç§å®‰å…¨çš„åŠ å¯†æ–¹æ³•ã€‚SFTP ä¸º SSH çš„ä¸€éƒ¨åˆ†ï¼Œç”±äºè¿™ç§ä¼ è¾“æ–¹å¼ä½¿ç”¨äº†åŠ å¯†/è§£å¯†æŠ€æœ¯ï¼Œæ‰€ä»¥ä¼ è¾“æ•ˆç‡æ¯”æ™®é€šçš„ FTP è¦ä½å¾—å¤šï¼Œå¦‚æœæ‚¨å¯¹ç½‘ç»œå®‰å…¨æ€§è¦æ±‚æ›´é«˜æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ SFTP ä»£æ›¿ FTPã€‚</p>
<h1 id="ä¸€-sftp-æ­å»º">ä¸€ã€sftp æ­å»º</h1>
<h2 id="1åˆ›å»º-sftp-ç»„">1.åˆ›å»º sftp ç»„</h2>
<pre><code>groupadd sftp
# -g ç”¨æˆ·ç»„ï¼› -d æŒ‡å®šå®¶ç›®å½•ï¼› -s ä¸ç™»é™†ï¼› -M ä¸åˆ›å»ºå®¶ç›®å½• 
useradd -g sftp -d /data/sftp/sftpuser -s /sbin/nologin sftpuser
echo 123456 | passwd --stdin sftpuser
</code></pre>
<h2 id="2ä¿®æ”¹-sshd_config-é…ç½®">2.ä¿®æ”¹ sshd_config é…ç½®</h2>
<pre><code>vim /etc/ssh/sshd_config

#Subsystem      sftp    /usr/libexec/openssh/sftp-server
Subsystem sftp internal-sftp
Match Group sftp
ChrootDirectory /data/sftp/%u
ForceCommand internal-sftp
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<p>sftp æ˜¯ Secure File Transfer Protocol çš„ç¼©å†™ï¼Œå®‰å…¨æ–‡ä»¶ä¼ é€åè®®ã€‚å¯ä»¥ä¸ºä¼ è¾“æ–‡ä»¶æä¾›ä¸€ç§å®‰å…¨çš„åŠ å¯†æ–¹æ³•ã€‚SFTP ä¸º SSH çš„ä¸€éƒ¨åˆ†ï¼Œç”±äºè¿™ç§ä¼ è¾“æ–¹å¼ä½¿ç”¨äº†åŠ å¯†/è§£å¯†æŠ€æœ¯ï¼Œæ‰€ä»¥ä¼ è¾“æ•ˆç‡æ¯”æ™®é€šçš„ FTP è¦ä½å¾—å¤šï¼Œå¦‚æœæ‚¨å¯¹ç½‘ç»œå®‰å…¨æ€§è¦æ±‚æ›´é«˜æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ SFTP ä»£æ›¿ FTPã€‚</p>
<h1 id="ä¸€-sftp-æ­å»º">ä¸€ã€sftp æ­å»º</h1>
<h2 id="1åˆ›å»º-sftp-ç»„">1.åˆ›å»º sftp ç»„</h2>
<pre><code>groupadd sftp
# -g ç”¨æˆ·ç»„ï¼› -d æŒ‡å®šå®¶ç›®å½•ï¼› -s ä¸ç™»é™†ï¼› -M ä¸åˆ›å»ºå®¶ç›®å½• 
useradd -g sftp -d /data/sftp/sftpuser -s /sbin/nologin sftpuser
echo 123456 | passwd --stdin sftpuser
</code></pre>
<h2 id="2ä¿®æ”¹-sshd_config-é…ç½®">2.ä¿®æ”¹ sshd_config é…ç½®</h2>
<pre><code>vim /etc/ssh/sshd_config

#Subsystem      sftp    /usr/libexec/openssh/sftp-server
Subsystem sftp internal-sftp
Match Group sftp
ChrootDirectory /data/sftp/%u
ForceCommand internal-sftp
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[webhook å®ç°è‡ªåŠ¨éƒ¨ç½²]]></title>
        <id>https://zeta.im/Automatic-deployment-with-webhook/</id>
        <link href="https://zeta.im/Automatic-deployment-with-webhook/">
        </link>
        <updated>2020-05-01T14:26:33.000Z</updated>
        <summary type="html"><![CDATA[<p>Git Hook(é’©å­) æ˜¯ Git åœ¨ä»£ç æäº¤ã€æ¨é€ã€åˆå¹¶ç­‰å·¥ä½œæµç¨‹ä¸­å¼•å…¥çš„äº‹ä»¶è§¦å‘å™¨ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„åœºæ™¯æ˜¯ä»£ç æ£€æŸ¥ï¼ŒæŒç»­é›†æˆï¼Œè‡ªåŠ¨éƒ¨ç½²ç­‰ï¼Œæœ¬æ–‡ä¸»è¦è®²è§£åˆ©ç”¨webhook å®ç°è‡ªåŠ¨éƒ¨ç½²çš„ä¸¤ç§æ–¹å¼ã€‚</p>
<h1 id="ä¸€-ä»€ä¹ˆæ˜¯git-webhook">ä¸€ã€ä»€ä¹ˆæ˜¯Git webhook</h1>
<p>Git çš„ hook åˆ†ä¸ºæœ¬åœ°ä»“åº“ hook å’ŒæœåŠ¡å™¨ä»“åº“ hookã€‚</p>
<h2 id="ä¸€æœ¬åœ°-hook">ï¼ˆä¸€ï¼‰æœ¬åœ° hook</h2>
<p>æœ¬åœ° hook é€šå¸¸åœ¨ä»£ç çš„ .git/hooks ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>$ hooks git:(master) ls
applypatch-msg.sample     pre-commit.sample             prepare-commit-msg.sample
commit-msg.sample         update.sample
post-update.sample        pre-push.sample
pre-applypatch.sample     pre-rebase.sample
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›è„šæœ¬ä¸ä¼šç”Ÿæ•ˆã€‚ä½¿ç”¨æ—¶ï¼Œåªéœ€å°† <code>.sample</code> åç¼€å»æ‰ï¼Œç„¶åèµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™å³å¯ã€‚<br>
æœ¬åœ° hook ä¸»è¦ç”¨äºä»£ç é™æ€åˆ†æã€REVIEWã€ä»£ç è§„èŒƒã€å‘½åè§„èŒƒç­‰ã€‚</p>
<ul>
<li>pre-commit<br>
æäº¤ä¹‹å‰çš„ä»£ç æ£€æŸ¥ï¼ŒåŒ…æ‹¬æ˜¯å¦é€šè¿‡å•å…ƒæµ‹è¯•ï¼Œé™æ€ä»£ç åˆ†æ</li>
<li>prepare-commit-msg<br>
æäº¤ä¿¡æ¯ä¹‹å‰ï¼Œå¯ç”¨æ¥ç”Ÿæˆé»˜è®¤çš„æäº¤ä¿¡æ¯</li>
<li>commit-msg<br>
æäº¤ä¿¡æ¯ä¹‹åï¼Œå¯ç”¨æ¥æ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆç‰¹å®šçš„æ ¼å¼</li>
<li>post-commit<br>
æäº¤ä»£ç ä¹‹åï¼Œä¸€èˆ¬ç”¨æ¥é€šçŸ¥ä»£ç å·²æäº¤ã€‚</li>
<li>post-checkout<br>
checkout ä»£ç ä¹‹åï¼Œå¯ç”¨æ¥è®¾ç½®å·¥ä½œç›®å½•ã€ç”Ÿæˆæ–‡æ¡£ã€ç”Ÿæˆé™æ€èµ„æºç­‰å·¥ä½œ</li>
<li>post-merge<br>
åˆå¹¶ä»£ç ä¹‹åï¼Œå¯ç”¨æ¥ä¿å­˜ merge æ“ä½œä¸­ï¼Œgit æ²¡æœ‰ä¿å­˜çš„ä¿¡æ¯ã€‚</li>
<li>pre-push<br>
push ä»£ç ä¹‹å‰ï¼Œå¯ç”¨æ¥æ£€æŸ¥æœ¬æ¬¡ push çš„ commits æ˜¯å¦ç¬¦åˆç‰¹å®šçš„æ ‡å‡†ã€‚</li>
</ul>
]]></summary>
        <content type="html"><![CDATA[<p>Git Hook(é’©å­) æ˜¯ Git åœ¨ä»£ç æäº¤ã€æ¨é€ã€åˆå¹¶ç­‰å·¥ä½œæµç¨‹ä¸­å¼•å…¥çš„äº‹ä»¶è§¦å‘å™¨ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„åœºæ™¯æ˜¯ä»£ç æ£€æŸ¥ï¼ŒæŒç»­é›†æˆï¼Œè‡ªåŠ¨éƒ¨ç½²ç­‰ï¼Œæœ¬æ–‡ä¸»è¦è®²è§£åˆ©ç”¨webhook å®ç°è‡ªåŠ¨éƒ¨ç½²çš„ä¸¤ç§æ–¹å¼ã€‚</p>
<h1 id="ä¸€-ä»€ä¹ˆæ˜¯git-webhook">ä¸€ã€ä»€ä¹ˆæ˜¯Git webhook</h1>
<p>Git çš„ hook åˆ†ä¸ºæœ¬åœ°ä»“åº“ hook å’ŒæœåŠ¡å™¨ä»“åº“ hookã€‚</p>
<h2 id="ä¸€æœ¬åœ°-hook">ï¼ˆä¸€ï¼‰æœ¬åœ° hook</h2>
<p>æœ¬åœ° hook é€šå¸¸åœ¨ä»£ç çš„ .git/hooks ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>$ hooks git:(master) ls
applypatch-msg.sample     pre-commit.sample             prepare-commit-msg.sample
commit-msg.sample         update.sample
post-update.sample        pre-push.sample
pre-applypatch.sample     pre-rebase.sample
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›è„šæœ¬ä¸ä¼šç”Ÿæ•ˆã€‚ä½¿ç”¨æ—¶ï¼Œåªéœ€å°† <code>.sample</code> åç¼€å»æ‰ï¼Œç„¶åèµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™å³å¯ã€‚<br>
æœ¬åœ° hook ä¸»è¦ç”¨äºä»£ç é™æ€åˆ†æã€REVIEWã€ä»£ç è§„èŒƒã€å‘½åè§„èŒƒç­‰ã€‚</p>
<ul>
<li>pre-commit<br>
æäº¤ä¹‹å‰çš„ä»£ç æ£€æŸ¥ï¼ŒåŒ…æ‹¬æ˜¯å¦é€šè¿‡å•å…ƒæµ‹è¯•ï¼Œé™æ€ä»£ç åˆ†æ</li>
<li>prepare-commit-msg<br>
æäº¤ä¿¡æ¯ä¹‹å‰ï¼Œå¯ç”¨æ¥ç”Ÿæˆé»˜è®¤çš„æäº¤ä¿¡æ¯</li>
<li>commit-msg<br>
æäº¤ä¿¡æ¯ä¹‹åï¼Œå¯ç”¨æ¥æ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆç‰¹å®šçš„æ ¼å¼</li>
<li>post-commit<br>
æäº¤ä»£ç ä¹‹åï¼Œä¸€èˆ¬ç”¨æ¥é€šçŸ¥ä»£ç å·²æäº¤ã€‚</li>
<li>post-checkout<br>
checkout ä»£ç ä¹‹åï¼Œå¯ç”¨æ¥è®¾ç½®å·¥ä½œç›®å½•ã€ç”Ÿæˆæ–‡æ¡£ã€ç”Ÿæˆé™æ€èµ„æºç­‰å·¥ä½œ</li>
<li>post-merge<br>
åˆå¹¶ä»£ç ä¹‹åï¼Œå¯ç”¨æ¥ä¿å­˜ merge æ“ä½œä¸­ï¼Œgit æ²¡æœ‰ä¿å­˜çš„ä¿¡æ¯ã€‚</li>
<li>pre-push<br>
push ä»£ç ä¹‹å‰ï¼Œå¯ç”¨æ¥æ£€æŸ¥æœ¬æ¬¡ push çš„ commits æ˜¯å¦ç¬¦åˆç‰¹å®šçš„æ ‡å‡†ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://zeta.im/hello-gridea/</id>
        <link href="https://zeta.im/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></content>
    </entry>
</feed>